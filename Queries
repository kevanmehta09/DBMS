
1)Find all active partnerships involving a specific company user.

=> Select distinct p.id as partnership_id, p.name as partnership_name
   From user u
   Join user_partnership up on u.id = up.user_id
   Join partnership p on up.partnership_id = p.id
   Join company_partnership cp on p.id = cp.partnership_id
   where u.id = <specific_user_id>
   AND cp.compnay_id = u.company_id
   AND p.id IN (
   Select Distinct campaigns.partnership_id
   From campaigns
   Where Current_Date between campaigns.start and campaigns.end) 


2)List all company users with their roles.

=> Select u.id AS user_id,u.name AS user_name,u.email AS user_email,c.name AS company_name,r.role_name AS role
   From User u
   JOIN Company c on u.company_id = c.id
   JOIN role r on u.role_id = r.id	


3)List all users associated with a specific partnership, including their roles.

=> Select u.id AS user_id,u.name AS user_name,u.email as user_email,c.name as company_name,r.role_name as role,p.name as partnership_name
   FROM partnership p 
   JOIN user_partnership up on p.id = up.partnership_id
   JOIN user u ON up.user_id = u.id
   JOIN role r on u.role_id = r.id
   JOIN Compan c on u.company_id = c.id
   where p.id = <specific_partnership_id> 


4)Get the total revenue generated by the specific partnership for a company.

=> Select SUM(o.amount) AS total_revenue
   From partnership p 
   Join company_partnership cp on p.id = cp.partnership_id
   Join Company c on cp.compnay_id = c.id
   Join Opportunity o On c.id = o.account_id
   where p.id = <specific_partnership_id>
   And c.id = <specific_company_id>
